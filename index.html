<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Birthday Aunty! 💐</title>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --pink1:#ffd1e6;
      --pink2:#ff9fcf;
      --accent:#fff7fb;
    }
    html,body{height:100%;margin:0;font-family:Poppins,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;overflow:hidden}
    body{
      background: linear-gradient(135deg,var(--pink1),var(--pink2));
      display:flex;align-items:center;justify-content:center;flex-direction:column;
    }/* glowing animated heading */
h1{
  font-size:4.2rem;
  margin:0 0 12px 0;
  letter-spacing:2px;
  text-align:center;
  color: #fff;
  text-shadow: 0 0 6px rgba(255,255,255,0.6);
  filter: drop-shadow(0 6px 18px rgba(255, 64, 129, 0.25));
  animation: glow 2.6s ease-in-out infinite;
  pointer-events:none;
}
@keyframes glow{
  0%{text-shadow:0 0 4px rgba(255,255,255,0.6),0 0 10px rgba(255, 105, 180,0.12)}
  50%{text-shadow:0 0 18px rgba(255,255,255,0.9),0 0 30px rgba(255,20,147,0.3)}
  100%{text-shadow:0 0 4px rgba(255,255,255,0.6),0 0 10px rgba(255, 105, 180,0.12)}
}

/* subheading */
p.lead{margin:0 0 18px 0;color:rgba(255,255,255,0.95);font-size:1.05rem}

/* falling emoji layer */
.emoji-fall{position:fixed;top:0;left:0;right:0;bottom:0;pointer-events:none;overflow:hidden;z-index:4}
.emoji{
  position:absolute;top:-10vh;font-size:28px;will-change:transform,opacity;opacity:0.95;
  animation-name:fall, sway, rotateEmoji;
  animation-duration:8s, 4s, 6s;
  animation-iteration-count:infinite, infinite, infinite;
  animation-timing-function:linear, ease-in-out, linear;
}
@keyframes fall{to{transform:translateY(120vh)}}
@keyframes sway{0%{transform:translateX(0)}50%{transform:translateX(40px)}100%{transform:translateX(0)}}
@keyframes rotateEmoji{from{transform:rotate(0)}to{transform:rotate(360deg)}}

/* confetti canvas sits above emojis */
canvas#confetti, canvas#fireworks{position:fixed;left:0;top:0;width:100%;height:100%;z-index:6;pointer-events:none}

/* center card */
.card{
  z-index:5;backdrop-filter: blur(6px) saturate(1.05);padding:28px 34px;border-radius:18px;box-shadow:0 12px 40px rgba(0,0,0,0.12);
  background:linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  border:1px solid rgba(255,255,255,0.12);
  text-align:center;max-width:900px;width:calc(100% - 48px);
}

/* button */
.btn{
  display:inline-block;margin-top:18px;padding:12px 22px;border-radius:999px;border:none;cursor:pointer;font-weight:600;background:linear-gradient(90deg,#fff 0%, #ffe6f0 100%);box-shadow:0 8px 22px rgba(255,105,180,0.12);font-size:1rem
}

/* cursive message box */
.message{
  margin-top:18px;font-family:'Dancing Script',cursive;font-size:1.35rem;color:#fff;min-height:3.6em;white-space:pre-wrap;overflow:hidden;opacity:0;transform:translateY(6px);
}
.message.show{opacity:1;transform:none;transition:opacity .6s ease, transform .6s ease}

/* caret */
.caret{display:inline-block;width:2px;background:#fff;margin-left:3px;vertical-align:bottom;animation:blink .8s steps(1) infinite}
@keyframes blink{50%{opacity:0}}

/* small music play hint */
#playFallback{position:fixed;right:18px;bottom:18px;z-index:20;background:rgba(255,255,255,0.9);padding:8px 12px;border-radius:12px;box-shadow:0 6px 16px rgba(0,0,0,0.12);display:none}

/* responsive heading size */
@media (max-width:600px){h1{font-size:2.4rem} .card{padding:20px}}

  </style>
</head>
<body>
  <div class="emoji-fall" id="emojiLayer"></div>
  <canvas id="confetti"></canvas>
  <canvas id="fireworks"></canvas>  <div class="card" role="main">
    <h1 id="glowTitle">Happy Birthday Aunty! 💐</h1>
    <p class="lead">Wishing you a day as lovely as your heart — filled with smiles, hugs and lots of cake!</p>
    <button id="revealBtn" class="btn">Click here</button><div id="message" class="message" aria-live="polite"></div>

  </div>  <audio id="bgMusic" loop preload="auto">
    <source src="https://cdn.pixabay.com/download/audio/2021/12/04/audio_c644ef3d7c.mp3?filename=soft-birthday-music-111768.mp3" type="audio/mpeg">
    <!-- fallback: user can replace source if desired -->
  </audio>  <div id="playFallback">
    <button id="playMusicBtn" class="btn" style="padding:8px 14px;font-size:0.9rem;">Play Music</button>
  </div>  <script>
    // ----------------- utilities -----------------
    const emojis = ["☺️","😊","😍","😘","🤗","💖","💝","💐","💞","💕","🤍","💓","💜","💛","🫶"];

    function rand(min,max){return Math.random()*(max-min)+min}

    // ----------------- falling emojis -----------------
    function createFallingEmojis(count=28){
      const layer = document.getElementById('emojiLayer');
      for(let i=0;i<count;i++){
        const span = document.createElement('div');
        span.className='emoji';
        span.style.left = (Math.random()*100)+'%';
        span.style.fontSize = (rand(20,48))+'px';
        // stagger durations and delays
        const dur = rand(6,12).toFixed(2)+'s';
        const delay = rand(0,6).toFixed(2)+'s';
        span.style.animationDuration = dur + ', ' + (rand(3,6)).toFixed(2)+'s, ' + (rand(4,8)).toFixed(2)+'s';
        span.style.animationDelay = delay + ', ' + delay + ', 0s';
        span.innerText = emojis[Math.floor(Math.random()*emojis.length)];
        layer.appendChild(span);
      }
    }

    // ----------------- confetti (canvas) -----------------
    function runConfetti(){
      const canvas = document.getElementById('confetti');
      const ctx = canvas.getContext('2d');
      let w=canvas.width=innerWidth; let h=canvas.height=innerHeight; 
      window.addEventListener('resize',()=>{w=canvas.width=innerWidth;h=canvas.height=innerHeight});
      const particles = [];
      function makeParticle(){
        return {
          x:rand(0,w), y:rand(-50, -10), vx:rand(-0.6,0.6), vy:rand(1,4),
          size:rand(6,14), life:rand(80,200), hue:Math.floor(rand(0,360))
        }
      }
      for(let i=0;i<120;i++) particles.push(makeParticle());
      function update(){
        ctx.clearRect(0,0,w,h);
        particles.forEach(p=>{
          p.x += p.vx; p.y += p.vy; p.vy *= 1.01; p.life--;
          ctx.fillStyle = `hsl(${p.hue} 70% 60%)`;
          ctx.fillRect(p.x, p.y, p.size, p.size*0.6);
          if(p.life<0 || p.y>h+40){
            Object.assign(p, makeParticle()); p.y = rand(-60,-10);
          }
        })
        requestAnimationFrame(update);
      }
      update();
    }

    // ----------------- simple fireworks on canvas -----------------
    function runFireworks(){
      const canvas = document.getElementById('fireworks');
      const ctx = canvas.getContext('2d');
      let w=canvas.width=innerWidth; let h=canvas.height=innerHeight; 
      window.addEventListener('resize',()=>{w=canvas.width=innerWidth;h=canvas.height=innerHeight});

      const fireworks = [];

      function spawn(x,y){
        const count = Math.floor(rand(18,38));
        const hue = Math.floor(rand(0,360));
        for(let i=0;i<count;i++){
          fireworks.push({x,y,dx:Math.cos(2*Math.PI*(i/count))*rand(1.5,6),dy:Math.sin(2*Math.PI*(i/count))*rand(1.5,6),life:rand(30,90),hue,alpha:1});
        }
      }

      // spawn occasionally
      setInterval(()=>{ spawn(rand(w*0.15,w*0.85), rand(h*0.12,h*0.6)) }, 1400);

      function frame(){
        ctx.clearRect(0,0,w,h);
        for(let i=fireworks.length-1;i>=0;i--){
          const f = fireworks[i];
          f.x+=f.dx; f.y+=f.dy; f.dy += 0.05; f.life--; f.alpha *= 0.992;
          ctx.beginPath(); ctx.fillStyle = `hsla(${f.hue} 80% 60% / ${f.alpha})`;
          ctx.arc(f.x,f.y,2.6,0,Math.PI*2); ctx.fill();
          if(f.life<=0 || f.alpha<0.02) fireworks.splice(i,1);
        }
        requestAnimationFrame(frame);
      }
      frame();
    }

    // ----------------- typing cursive message -----------------
    const fullMessage = "Thanks for being the most sweetest and kind-hearted aunty who spreads happiness all around! ☺️❤️";
    function typeMessage(container, text, speed=35){
      container.classList.add('show');
      container.innerHTML = '';
      const caret = document.createElement('span'); caret.className='caret';
      let i=0;
      function step(){
        if(i<=text.length){
          container.textContent = text.slice(0,i);
          if(!container.querySelector('.caret')) container.appendChild(caret);
          i++;
          setTimeout(step, speed);
        } else {
          // remove caret after short pause
          setTimeout(()=>caret.remove(),400);
        }
      }
      step();
    }

    // ----------------- music autoplay attempt -----------------
    function setupMusic(){
      const audio = document.getElementById('bgMusic');
      const fallback = document.getElementById('playFallback');
      const playBtn = document.getElementById('playMusicBtn');
      // try to play
      audio.volume = 0.6;
      audio.play().then(()=>{
        // success
      }).catch(()=>{
        // show fallback button for user to start audio (browsers require gesture)
        fallback.style.display='block';
      });
      playBtn.addEventListener('click',()=>{
        audio.play(); fallback.style.display='none';
      })
    }

    // ----------------- init -----------------
    function init(){
      createFallingEmojis(34);
      runConfetti();
      runFireworks();
      setupMusic();

      // autoshow message after small delay? we keep it behind button; but we also auto-click after small delay to satisfy "auto start animations when page loads" for message? The user requested message after clicking so leave on click only.
      document.getElementById('revealBtn').addEventListener('click', function(){
        this.disabled = true; this.textContent = 'Sending hugs...';
        // animate button then type
        setTimeout(()=>{
          typeMessage(document.getElementById('message'), fullMessage, 28);
          this.textContent = 'Sent!';
        }, 700);
      });
    }

    // run init when DOM ready
    document.addEventListener('DOMContentLoaded', init);
  </script></body>
</html>
